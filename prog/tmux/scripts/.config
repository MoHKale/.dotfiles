;; -*- mode: clojure -*-
(
 ;; fzf-tmux is a script for fzf which makes fzf popup in a tmux frame
 ;; when running inside of tmux.
 (:shell {:desc "Syncing fzf-tmux"
          :cmd "if [ -e ./fzf-tmux ]; then
                    :
                elif which fzf-tmux >/dev/null 2>/dev/null; then
                    ln -s \"$(which fzf-tmux)\" ./fzf-tmux
                else
                    if curl -LO https://raw.githubusercontent.com/junegunn/fzf/master/bin/fzf-tmux; then
                        chmod +x ./fzf-tmux
                    else
                        echo 'unable to retrieve fzf-tmux'
                        exit 1
                    fi
                fi"})

 #dot/link-gen
 (:link
  ("~/.config/tmux/scripts"
   ("attach-session" "manage-windows" "run-binding" "run-command"))

  {:dest "~/.local/bin/fzf-tmux" :ignore-missing true})
)
